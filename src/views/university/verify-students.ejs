<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Verify Students | University Dashboard</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f4f6f8;
        margin: 40px;
      }

      .container {
        max-width: 1000px;
        margin: auto;
        background: #fff;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      }

      h1 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 25px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }

      th,
      td {
        padding: 14px;
        text-align: left;
        border-bottom: 1px solid #eee;
      }

      th {
        background: #2980b9;
        color: white;
        text-transform: uppercase;
        font-size: 13px;
      }

      tr:hover {
        background: #f9f9f9;
      }

      .btn {
        padding: 8px 14px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 13px;
        font-weight: bold;
      }

      .approve {
        background: #27ae60;
        color: white;
      }

      .reject {
        background: #c0392b;
        color: white;
      }

      .verified {
        background: #27ae60;
        color: #fff;
        border-radius: 6px;
        padding: 4px 10px;
        font-size: 12px;
        font-weight: bold;
      }

      .pending {
        background: #f1c40f;
        color: #fff;
        border-radius: 6px;
        padding: 4px 10px;
        font-size: 12px;
        font-weight: bold;
      }

      .link {
        text-align: center;
        margin-top: 20px;
      }

      .link a {
        color: #2980b9;
        text-decoration: none;
        font-weight: bold;
      }

      .link a:hover {
        text-decoration: underline;
      }

      .id-card {
        font-size: 14px;
        color: #2980b9;
        text-decoration: none;
      }

      .id-card:hover {
        text-decoration: underline;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>üéì Student Identity Verification</h1>

      <% if (students.length === 0) { %>
      <p style="text-align: center; color: #7f8c8d">
        No student verification requests at the moment.
      </p>
      <% } else { %>
      <table>
        <tr>
          <th>Full Name</th>
          <th>Email</th>
          <th>Registration No</th>
          <th>ID Card</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>

        <% students.forEach(s => { %>
        <tr>
          <td><%= s.name %></td>
          <td><%= s.email %></td>
          <td><%= s.universityRegNo || "‚Äî" %></td>
          <td>
            <% if (s.idCardPath) { %>
            <a
              href="/uploads/idcards/<%= s.idCardPath %>"
              target="_blank"
              class="id-card"
              >üìé View ID</a
            >
            <% } else { %> ‚Äî <% } %>
          </td>
          <td>
            <% if (s.isVerified) { %>
            <span class="verified">‚úÖ Verified</span>
            <% } else { %>
            <span class="pending">‚è≥ Pending</span>
            <% } %>
          </td>
          <td>
            <% if (!s.isVerified) { %>
            <form
              method="POST"
              action="/university/verify/<%= s._id %>/approve"
              style="display: inline"
            >
              <button type="submit" class="btn approve">‚úÖ Approve</button>
            </form>

            <form
              method="POST"
              action="/university/verify/<%= s._id %>/reject"
              style="display: inline"
            >
              <button type="submit" class="btn reject">‚ùå Reject</button>
            </form>
            <% } else { %>
            <span>‚Äî</span>
            <% } %>
          </td>
        </tr>
        <% }) %>
      </table>
      <% } %>

      <div class="link">
        <a href="/university/dashboard">‚¨Ö Back to Dashboard</a>
      </div>
    </div>
  </body>
</html>
